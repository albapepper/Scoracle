@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-family-primary: 'SÃ¶hne', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
    
    /* Shadcn-Svelte theme variables - Light mode */
    --background: 245 245 232; /* #F5F5E8 */
    --foreground: 45 55 72; /* #2D3748 */
    --card: 224 224 208; /* #E0E0D0 */
    --card-foreground: 45 55 72;
    --popover: 234 234 218; /* #EAEADA */
    --popover-foreground: 45 55 72;
    --primary: 45 55 72; /* #2D3748 */
    --primary-foreground: 255 255 255;
    --secondary: 234 234 218;
    --secondary-foreground: 45 55 72;
    --muted: 224 224 208;
    --muted-foreground: 74 85 104; /* #4A5568 */
    --accent: 224 224 208;
    --accent-foreground: 26 54 93; /* #1A365D */
    --destructive: 239 68 68;
    --destructive-foreground: 255 255 255;
    --border: 203 213 224; /* #CBD5E0 */
    --input: 203 213 224;
    --ring: 45 55 72;
    --radius: 0.5rem;
  }

  .dark {
    --background: 26 26 26; /* #1A1A1A */
    --foreground: 245 245 232; /* #F5F5E8 */
    --card: 45 45 45; /* #2D2D2D */
    --card-foreground: 245 245 232;
    --popover: 36 36 36; /* #242424 */
    --popover-foreground: 245 245 232;
    --primary: 168 90 57; /* #A85A39 */
    --primary-foreground: 255 255 255;
    --secondary: 36 36 36;
    --secondary-foreground: 245 245 232;
    --muted: 45 45 45;
    --muted-foreground: 208 208 192; /* #D0D0C0 */
    --accent: 45 45 45;
    --accent-foreground: 232 196 160; /* #E8C4A0 */
    --destructive: 248 113 113;
    --destructive-foreground: 255 255 255;
    --border: 64 64 64; /* #404040 */
    --input: 64 64 64;
    --ring: 168 90 57;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    font-family: var(--font-family-primary);
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-background text-foreground;
    min-height: 100vh;
    transition: background-color 0.2s ease, color 0.2s ease;
  }
}

/* Legacy variable support for existing components */
html.scoracle-light,
:root {
  --scoracle-bg-primary: #F5F5E8;
  --scoracle-bg-secondary: #EAEADA;
  --scoracle-bg-tertiary: #E0E0D0;
  --scoracle-text-primary: #2D3748;
  --scoracle-text-secondary: #4A5568;
  --scoracle-text-accent: #1A365D;
  --scoracle-ui-primary: #2D3748;
  --scoracle-ui-border: #CBD5E0;
}

html.scoracle-dark,
html.dark {
  --scoracle-bg-primary: #1A1A1A;
  --scoracle-bg-secondary: #242424;
  --scoracle-bg-tertiary: #2D2D2D;
  --scoracle-text-primary: #F5F5E8;
  --scoracle-text-secondary: #D0D0C0;
  --scoracle-text-accent: #E8C4A0;
  --scoracle-ui-primary: #A85A39;
  --scoracle-ui-border: #404040;
}

/* Custom component overrides */
.card {
  @apply rounded-lg shadow-sm;
  background-color: var(--scoracle-bg-tertiary);
  border: 1px solid var(--scoracle-ui-border);
}

.btn-primary {
  @apply rounded-lg px-4 py-2 font-medium transition-colors;
  background-color: var(--scoracle-ui-primary);
  color: white;
}

.btn-primary:hover {
  opacity: 0.9;
}

/* Search form specific styles */
.search-form-input-wrapper {
  display: flex;
  align-items: center;
  background: var(--scoracle-bg-secondary);
  border-radius: 24px;
  padding: 4px 8px 4px 16px;
  border: 1px solid var(--scoracle-ui-border);
  transition: border-color 0.2s ease, box-shadow 0.2s ease;
}

.search-form-input-wrapper:focus-within {
  border-color: var(--scoracle-ui-primary);
  box-shadow: 0 0 0 2px rgba(45, 55, 72, 0.1);
}

html.scoracle-dark .search-form-input-wrapper:focus-within,
html.dark .search-form-input-wrapper:focus-within {
  box-shadow: 0 0 0 2px rgba(168, 90, 57, 0.2);
}

/* Skeleton loading animation */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.skeleton {
  background: linear-gradient(
    90deg,
    var(--scoracle-bg-tertiary) 25%,
    var(--scoracle-bg-secondary) 50%,
    var(--scoracle-bg-tertiary) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Entity page flip card animation */
.entity-flip-card-shell {
  perspective: 1000px;
}

.entity-flip-card-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

.entity-flip-card-shell.is-flipped .entity-flip-card-inner {
  transform: rotateY(180deg);
}

.entity-flip-card-face {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
}

.entity-flip-card-back {
  transform: rotateY(180deg);
}

/* Autocomplete dropdown */
.autocomplete-dropdown {
  @apply absolute z-50 w-full mt-1 rounded-lg shadow-lg;
  background-color: var(--scoracle-bg-secondary);
  border: 1px solid var(--scoracle-ui-border);
  max-height: 300px;
  overflow-y: auto;
}

.autocomplete-item {
  @apply px-4 py-2 cursor-pointer transition-colors;
  color: var(--scoracle-text-primary);
}

.autocomplete-item:hover,
.autocomplete-item.active {
  background-color: var(--scoracle-bg-tertiary);
}

